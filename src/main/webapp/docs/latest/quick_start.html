<!DOCTYPE html><html><head><meta charset="utf-8"><title>Untitled Document.md</title><style>

</style></head><body id="preview">
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
“License”); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at
 http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
    
<h1><a id="Quick_Start_1"></a><b>Quick Start</b></h1>
<p>This tutorial provides a quick introduction to using CarbonData.</p>
<h2 id="getting-started-with-carbondata"><a id="Getting_started_with_Apache_CarbonData_4"></a><b>Getting started with Apache CarbonData</b></h2>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#InteractiveAnalysis-with-Carbon-Spark-Shell">Interactive Analysis with Carbon-Spark Shell</a>
<ul>
<li><a href="#basics">Basics</a></li>
<li><a href="#executing-queries">Executing Queries</a>
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#create-table">Creating a Table</a></li>
<li><a href="#load-data-to-table">Loading Data to a Table</a></li>
<li><a href="#query-data-from-table">Query Data from a Table</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#carbon-sql-cli">CarbonData SQL CLI</a>
<ul>
<li><a href="#basics2">Basics</a></li>
<li><a href="#execute-queries-in-cli">Execute Queries in CLI</a></li>
</ul>
</li>
<li><a href="#building-carbon">Building CarbonData</a></li>
</ul>

<div id="installation"></div>
<h2><a id="Installation_20"></a><b>Installation</b></h2>
<ul>
  <li>Download a released package of <a href="http://spark.apache.org/downloads.html">Spark 1.5.0 to 1.6.2</a>.</li>
  <li>Download and install <a href="http://thrift-tutorial.readthedocs.io/en/latest/installation.html">Apache Thrift 0.9.3</a>, make sure Thrift is added to your system path.</li>
<li>Download <a href="https://github.com/apache/incubator-carbondata">Apache CarbonData code</a> and build it. Please visit <a href="https://cwiki.apache.org/confluence/display/CARBONDATA/Building+CarbonData+And+IDE+Configuration">Building CarbonData And IDE Configuration</a> for more information.</li>
</ul>
<div id="InteractiveAnalysis-with-Carbon-Spark-Shell"></div>
<h2><a id="Interactive_Analysis_with_CarbonSpark_Shell_25"></a><b>Interactive Analysis with Carbon-Spark Shell</b></h2>
<p>Carbon Spark shell is a wrapper around Apache Spark Shell, it provides a simple way to learn the API, as well as a powerful tool to analyze data interactively. Please visit <a href="http://spark.apache.org/docs/latest/">Apache Spark Documentation</a> for more details on Spark shell.</p>
<div id="basics"></div>
<h4><a id="Basics"></a><b>Basics</b></h4>
<p>Start CarbonData Spark shell by running the following command in the CarbonData directory:</p>
<pre><code>./bin/carbon-spark-shell
</code></pre>
<p>NOTE: In this shell, SparkContext is readily available as sc and CarbonContext is available as cc.</p>
<p>CarbonData stores and writes the data in its specified format at the default location on the hdfs.<br>
By default, carbon.storelocation is set as:</p>
<pre><code>hdfs://IP:PORT/Opt/CarbonStore
</code></pre>
<p>You can provide your own store location by providing configuration using --conf option like:</p>
<pre><code>./bin/carbon-spark-sql --conf spark.carbon.storepath=&lt;storelocation&gt;
</code></pre>
<div id="executing-queries"></div>
<h4><a id="Executing_Queries_45"></a><b>Executing Queries</b></h4>
<div id="prerequisites"></div>
<p><strong>Prerequisites</strong></p>
<p>Create a sample.csv file in CarbonData directory using the following commands. The CSV file is required for loading data into CarbonData.</p>
<pre><code>$ cd carbondata
$ cat &gt; sample.csv &lt;&lt; EOF
  id,name,city,age
  1,david,shenzhen,31
  2,eason,shenzhen,27
  3,jarry,wuhan,35
  EOF
</code></pre>
<div id="create-table"></div>
<p><strong>Creating a Table</strong></p>
<pre><code>scala&gt;cc.sql(&quot;create table if not exists test_table (id string, name string, city string, age Int) STORED BY 'carbondata'&quot;)
</code></pre>
<div id="load-data-to-table"></div>
<p><strong>Loading Data to a Table</strong></p>
<pre><code>scala&gt;val dataFilePath = new File(&quot;../carbondata/sample.csv&quot;).getCanonicalPath
scala&gt;cc.sql(s&quot;load data inpath '$dataFilePath' into table test_table&quot;)
</code></pre>
<div id="query-data-from-table"></div>
<p><strong>Query Data from a Table</strong></p>
<pre><code>scala&gt;cc.sql(&quot;select * from test_table&quot;).show
scala&gt;cc.sql(&quot;select city, avg(age), sum(age) from test_table group by city&quot;).show
</code></pre>
<div id="carbon-sql-cli"></div>
<h2><a id="Carbon_SQL_CLI_79"></a><b>CarbonData SQL CLI</b></h2>
<p>The CarbonData Spark SQL CLI is a wrapper around Apache Spark SQL CLI. It is a convenient tool to execute queries input from the command line. Please visit <a href="http://spark.apache.org/docs/latest/">Apache Spark Documentation</a> for more information on Apache Spark SQL CLI.</p>
<div id="basics2"></div>
<h4><a id="Basics_28"></a><b>Basics</b></h4>
<p>Start the CarbonData Spark SQL CLI, run the following in the CarbonData directory :</p>
<pre><code>./bin/carbon-spark-sql
</code></pre>
<p>CarbonData stores and writes the data in its specified format at the default location on the hdfs.<br>
By default carbon.storelocation is set as :</p>
<pre><code>hdfs://IP:PORT/Opt/CarbonStore
</code></pre>
<p>You can provide your own store location by providing configuration using --conf option like:</p>
<pre><code>./bin/carbon-spark-sql --conf spark.carbon.storepath=/home/root/carbonstore
</code></pre>
<div id="execute-queries-in-cli"></div>
<h4><a id="Execute_Queries_in_CLI_99"></a><b>Execute Queries in CLI</b></h4>
<pre><code>spark-sql&gt; create table if not exists test_table (id string, name string, city string, age Int) STORED BY 'carbondata'
spark-sql&gt; load data inpath '../sample.csv' into table test_table
spark-sql&gt; select city, avg(age), sum(age) from test_table group by city
</code></pre>
<div id="building-carbon"></div>
<h2><a id="Building_CarbonData_104"></a><b>Building CarbonData</b></h2>
<p>To get started, get CarbonData from the <a href="http://carbondata.incubator.apache.org">downloads</a> section on the <a href="http://carbondata.incubator.apache.org.">http://carbondata.incubator.apache.org.</a><br>
CarbonData uses Hadoop’s client libraries for HDFS and YARN and Spark’s libraries. Downloads are pre-packaged for a handful of popular Spark versions.</p>
<p>If you’d like to build CarbonData from source, you will need to follow the steps listed below.</p>
<ol>
<li>Before you begin building CarbonData, you need to have prior setup including :
<ul>
<li>Unix-like environment (Linux ,Mac OS X)</li>
<li><a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">Git</a></li>
<li><a href="https://maven.apache.org/download.cgi">Apache Maven</a> (recommend version 3.3 or later)</li>
<li><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java 7 or 8</a></li>
<li><a href="https://www.scala-lang.org/download/">Scala 2.10</a></li>
<li><a href="https://thrift.apache.org/download">Apache Thrift</a></li>
</ul>
</li>
<li>Clone CarbonData
<pre><code>$ git clone https://github.com/apache/incubator-carbondata.git
</code></pre>
</li>
<li>Build the project
<ul>
<li>By default CarbonData takes Spark 1.5.2 to build the project. Build the project by skipping Tests.
<pre><code>$ mvn -DskipTests clean package
</code></pre>
</li>
<li>To build with different spark versions
<pre><code>$ mvn -DskipTests -Pspark-1.5 -Dspark.version=1.5.0 clean package
$ mvn -DskipTests -Pspark-1.5 -Dspark.version=1.5.1 clean package
$ mvn -DskipTests -Pspark-1.5 -Dspark.version=1.5.2 clean package

$ mvn -DskipTests -Pspark-1.6 -Dspark.version=1.6.0 clean package
$ mvn -DskipTests -Pspark-1.6 -Dspark.version=1.6.1 clean package
$ mvn -DskipTests -Pspark-1.6 -Dspark.version=1.6.2 clean package
</code></pre>
</li>
<li>Build the assembly jar including Spark and Hadoop jars
<pre><code>$ mvn clean -DskipTests -Pinclude-all package
</code></pre>
</li>
<li>To Build with tests
<pre><code>$ mvn clean package
</code></pre>
</li>
</ul>
</li>
</ol>
<h2><a id="Developing_CarbonData_149"></a><b>Developing CarbonData</b></h2>
<p>The developers of CarbonData prefer using Intellij and Eclipse IDE for the development of the Project.<br>
Following below are steps for configuring the project in <a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> and <a href="https://eclipse.org/">Eclipse</a> .</p>
<h4><a id="IntelliJ_IDEA_154"></a><b>IntelliJ IDEA</b></h4>
<ul>
<li>Download IntelliJ at <a href="https://www.jetbrains.com/idea/">https://www.jetbrains.com/idea/</a> and install the Scala plug-in for IntelliJ.</li>
<li>Go to “File -&gt; Import Project”, locate the CarbonData source directory, and select “Maven Project”.</li>
<li>In the Import Wizard, select “Import Maven projects automatically” and leave the other settings at their default.</li>
<li>Now you are all set to start your development.</li>
</ul>
<p>NOTE : While trying to run the scala test, you may get out of memory exception. You need to increase the memory allocated to VM and set as :</p>
<pre><code>-XX:MaxPermSize=512m -Xmx3072m
</code></pre>
<h4><a id="Eclipse_166"></a><b>Eclipse</b></h4>
<ul>
<li>Download the Scala IDE (preferred) and install the scala plugin in Eclipse.</li>
<li>Import the CarbonData Maven projects (“File” -&gt; “Import” -&gt; “Maven” -&gt; “Existing Maven Projects” -&gt; locate the CarbonData source directory).</li>
</ul>

<script type="text/javascript">
 $('a[href*="#"]:not([href="#"])').click(function() {
   if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
    var target = $(this.hash);
    target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
    if (target.length) 
        { $('html, body').animate({scrollTop: target.offset().top - 52 },100);
          return false;
        }
     }
  });
</script>

</body></html>
